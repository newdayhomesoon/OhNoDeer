{"version":3,"names":["NativeModules","Platform","IapAmazon","IapAndroid","IapIos","IapIosSk2","singleProductAndroidMap","offerToRecord","offerSk2Map","productSk2Map","subscriptionSk2Map","transactionSk2ToPurchaseMap","fillProductsWithAdditionalData","getAndroidModule","getAndroidModuleType","getIosModule","getNativeModule","isAmazon","isIosStorekit2","storekit1Mode","storekit2Mode","storekitHybridMode","ProductType","PurchaseStateAndroid","SubscriptionPlatform","RNIapIos","RNIapIosSk2","RNIapModule","RNIapAmazonModule","ANDROID_ITEM_TYPE_SUBSCRIPTION","subs","ANDROID_ITEM_TYPE_IAP","inapp","setup","storekitMode","initConnection","endConnection","flushFailedPurchasesCachedAsPendingAndroid","flushFailedPurchasesCachedAsPending","getProducts","skus","length","Promise","reject","select","ios","items","getItems","map","filter","item","includes","productId","android","products","getItemsByType","Error","getSubscriptions","addSubscriptionPlatform","androidPlatform","subscriptions","castSubscriptions","amazon","platform","subscription","getPurchaseHistory","alsoPublishToEventListener","automaticallyFinishRestoredTransactions","onlyIncludeActiveItems","resolve","getAvailableItems","getPurchaseHistoryByType","concat","getAvailablePurchases","getAvailableItemsByType","requestPurchase","request","sku","andDangerouslyFinishTransactionAutomaticallyIOS","appAccountToken","quantity","withOffer","console","warn","offer","purchase","buyProduct","buyItemByType","obfuscatedAccountIdAndroid","obfuscatedProfileIdAndroid","isOfferPersonalized","undefined","requestSubscription","prorationModeAmazon","subscriptionOffers","purchaseTokenAndroid","replacementModeAndroid","so","offerToken","finishTransaction","isConsumable","developerPayloadAndroid","transactionId","purchaseToken","consumeProduct","userIdAmazon","isAcknowledgedAndroid","purchaseStateAndroid","PURCHASED","acknowledgePurchase","deepLinkToSubscriptions","isAmazonDevice","deepLinkToSubscriptionsIos","deepLinkToSubscriptionsAmazon","deepLinkToSubscriptionsAndroid","getStorefront"],"sourceRoot":"../../src","sources":["iap.ts"],"mappings":"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"}